<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>我要参加</title>
    <link rel="stylesheet" href="../css/index.css">
    <script src="https://at.alicdn.com/t/font_568808_ier1garui4l5wmi.js"></script>
</head>
<body>
<div id="join" class="flexitemv mainbox wrap">
	<div class="flexv center head">
		<p class="tex1"><img src="../image/voice.png" class="fitimg"></p>
		<p class="tex2"><img src="../image/hand.png" class="fitimg"></p>
	</div>
	<div class="flexv center textbox">
	   <!--<div class="flex center tex-img"><img src="../image/688.png" class="fitimg"></div>-->
	   <div class="tex">已有 <span>66555</span> 人参与</div>
	</div>
	<div class="flexv center userbox">
	   <div class="user-bj"></div>
	   <div class="user-img">
		   <img src="../image/user.jpg" class="fitimg">
	   </div>
	   <div class="name">皮克斯</div>
	</div>
	
	<form action="" class="flexitemv centerv menu" onsubmit="return false">
		<label class="flex input names">
			<span class="flex center">您的姓名：</span>
			<input type="text" name="name" data-rule="cname" data-errmsg="请输入2-4位中文姓名" placeholder="请填写您的姓名" class="flexitem">
		</label>
		<label class="flex input phone">
			<span class="flex center">手机号码：</span>
			<input type="tel" name="phone" data-rule="m" data-errmsg="请输入正确手机号" placeholder="请输入您的电话号码" maxlength="11" class="flexitem">
		</label>
		<label class="flex input companys">
			<span class="flex center">公&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;司：</span>
			<input class="flexitem cenk" type="text" data-rule="*" data-errmsg="请选择公司" readonly="readonly" unselectable="on" onfocus="this.blur()" placeholder="请选择公司">
		</label>
		<a href="javascript:;" class="flex center submit"><img src="../image/instantly.png" class="fitimg"></a>
	</form>
	<!--公司品牌-->
	<div id="brand" class="flexitemv hidens"></div>
	
	<form action="" class="flexitemv centerv music hidens" onsubmit="return false">
		<div class="box">
			<div class="flex centerv title">选择你喜欢的录音</div>
			<div class="flexitemv mainbox wrap listbox">
				<div class="flex centerv list" data-src="https://res.wx.qq.com/voice/getvoice?mediaid=MzUzNTY0OTQ2OV8yMjQ3NDgzNzcz">
					<div class="flex center play"><svg class="hsy" aria-hidden="true"><use xlink:href="#hsy-play"></use></svg></div>
					<div class="flexitem tex">好声音女生1</div>
					<div class="flex center click"><svg class="hsy" aria-hidden="true"><use xlink:href="#hsy-hollow"></use></svg></div>
				</div>
				<div class="flex centerv list" data-src="http://antiserver.kuwo.cn/anti.s?format=aac|mp3&rid=MUSIC_6234236&type=convert_url&response=res">
					<div class="flex center play"><svg class="hsy" aria-hidden="true"><use xlink:href="#hsy-play"></use></svg></div>
					<div class="flexitem tex">好声音女生2</div>
					<div class="flex center click"><svg class="hsy" aria-hidden="true"><use xlink:href="#hsy-hollow"></use></svg></div>
				</div>
				<div class="flex centerv list">
					<div class="flex center play"><svg class="hsy" aria-hidden="true"><use xlink:href="#hsy-play"></use></svg></div>
					<div class="flexitem tex">好声音女生3</div>
					<div class="flex center click"><svg class="hsy" aria-hidden="true"><use xlink:href="#hsy-hollow"></use></svg></div>
				</div>
				<div class="flex centerv list">
					<div class="flex center play"><svg class="hsy" aria-hidden="true"><use xlink:href="#hsy-play"></use></svg></div>
					<div class="flexitem tex">好声音女生4</div>
					<div class="flex center click"><svg class="hsy" aria-hidden="true"><use xlink:href="#hsy-hollow"></use></svg></div>
				</div>
				<div class="flex centerv list">
					<div class="flex center play"><svg class="hsy" aria-hidden="true"><use xlink:href="#hsy-play"></use></svg></div>
					<div class="flexitem tex">好声音女生5</div>
					<div class="flex center click"><svg class="hsy" aria-hidden="true"><use xlink:href="#hsy-hollow"></use></svg></div>
				</div>
				<div class="flex centerv list">
					<div class="flex center play"><svg class="hsy" aria-hidden="true"><use xlink:href="#hsy-play"></use></svg></div>
					<div class="flexitem tex">好声音女生6</div>
					<div class="flex center click"><svg class="hsy" aria-hidden="true"><use xlink:href="#hsy-hollow"></use></svg></div>
				</div>
				<div class="flex centerv list">
					<div class="flex center play"><svg class="hsy" aria-hidden="true"><use xlink:href="#hsy-play"></use></svg></div>
					<div class="flexitem tex">好声音女生7</div>
					<div class="flex center click"><svg class="hsy" aria-hidden="true"><use xlink:href="#hsy-hollow"></use></svg></div>
				</div>
				<div class="flex centerv list">
					<div class="flex center play"><svg class="hsy" aria-hidden="true"><use xlink:href="#hsy-play"></use></svg></div>
					<div class="flexitem tex">好声音女生8</div>
					<div class="flex center click"><svg class="hsy" aria-hidden="true"><use xlink:href="#hsy-hollow"></use></svg></div>
				</div>
			</div>
		</div>
		<a href="javascript:;" class="flex center submits"><img src="../image/confirm.png" class="fitimg"></a>
	</form>
	<!--温馨提示-->
	<div class="flex center alert hint-alert">
		<div class="flexv center content hint">
			<h3 class="flex center title">温馨提示</h3>
			<p class="flexitem tex-h">请选择背景音乐</p>
		</div>
	</div>
</div>
</body>
<script src="https://cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script>
<script src="../js/functions.js"></script>
<script src="../js/checkform.js"></script>
<script src="../js/brand.js"></script>
<script type="text/javascript">
	// 插入品牌
	InfoBrand('#brand','.companys','.cenk');

    // 验证表单1
    var checker = new checkForm({
        form : '.menu',
        btn : '.submit',
        error : function (ele,err){showMsg(err);},
        complete : function (ele){
            var post = $(ele).serializeArray();
            $(".head").hide();
            $(".textbox").hide();
			$(".name").removeClass("hidens");
            $(".menu").hide();
			$(".music").removeClass("hidens");
        }
    });
	
    // 音乐选择创建andio
    window.playbox = document.createElement('audio');
    $(".list").click(function () {
        playbox.src = $(this).attr('data-src');
        if($(this).find(".play use").attr("xlink:href") == "#hsy-pause" && $(this).find(".click use").attr("xlink:href") == "#hsy-confirm"){
            playbox.pause();
            // 播放关
            $(this).find(".play use").attr("xlink:href","#hsy-play");
            // 选择否
            $(this).find(".click use").attr("xlink:href","#hsy-hollow");
            $(".list").removeClass('mits');
		} else {
            playbox.play();
            // 播放状态
            $(this).find(".play use").attr("xlink:href","#hsy-pause");
            $(this).siblings().find(".play use").attr("xlink:href","#hsy-play");
            // 选择状态
            $(this).find(".click use").attr("xlink:href","#hsy-confirm");
            $(this).siblings().find(".click use").attr("xlink:href","#hsy-hollow");
            // 标记
			$(this).addClass("mits");
            $(this).siblings().removeClass('mits');
		}
    });
	
	// 确认生成
	$(".submits").click(function () {
		if($(".list").hasClass('mits')){
		    $(this).attr('href','index.html');
            var data = $(".list.mits").attr("data-src");
            
        } else{
            $(this).attr('href','javascript:;');
            $(".hint-alert").show();
            $(".content").addClass("trans");
            setTimeout(function () {
                $(".alert").hide();
            },1000);
		}
    });
</script>
</html>